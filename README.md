# Система управления школой API
## Обзор
Данный API предназначен для управления пользователями (студентами, учителями и директорами), предметами, группами и оценками. Система построена с использованием Django и Django REST Framework (DRF) с аутентификацией на основе JWT. API предоставляет разные уровни доступа для ролей (студент, учитель, директор), позволяя выполнять специфические действия, такие как создание групп, выставление оценок и просмотр расписаний.

## Основные функции
- Управление пользователями: Доступ на основе ролей для студентов, учителей и директоров.
- Управление группами и предметами: Директора могут создавать и управлять группами и предметами, тогда как учителя и студенты имеют ограниченные уровни доступа.
- Управление оценками: Учителя могут назначать оценки студентам, а студенты могут просматривать свои оценки.
- Аутентификация JWT: Система использует токены JWT для аутентификации и проверки прав доступа на основе ролей.

## Библиотеки и зависимости

Проект использует следующие библиотеки:

- **asgiref==3.8.1**: Обеспечивает асинхронную поддержку приложений Django, улучшая производительность с такими веб-протоколами, как WebSockets.
- **Django==4.2**: Высокоуровневый фреймворк на Python, который ускоряет разработку и способствует чистому и прагматичному дизайну приложений.
- **djangorestframework==3.15.2**: Мощный и гибкий набор инструментов для построения веб-API на Django.
- **djangorestframework-simplejwt==5.3.1**: Предоставляет поддержку аутентификации с использованием JWT для Django REST Framework.
- **PyJWT==2.9.0**: Библиотека на Python для кодирования и декодирования JWT токенов.
- **sqlparse==0.5.1**: Некорректирующий SQL парсер для Python, используемый для форматирования и анализа SQL запросов.
- **tzdata==2024.2**: Данные о временных зонах, используемые модулем datetime в Python для работы с временными зонами.

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/dtstimdjumaniyazov/school.git
```


3. Установите необходимые зависимости:
```bash
pip install -r requirements.txt
```

5. Настройте Django проект:
```bash
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver
```

## Postman коллекция
В проекте приложен пример коллекции для Postman (Eriell_school.postman_collection.json). Вы можете импортировать эту коллекцию в Postman для быстрого тестирования конечных точек API. Коллекция содержит примеры для управления пользователями, создания групп, предметов, студентов и выставления оценок.

Чтобы использовать коллекцию Postman:

1. Загрузите файл ```Eriell_school.postman_collection.json```.
2. Откройте Postman и нажмите ```Import```.
3. Выберите файл ```Eriell_school.postman_collection.json``` и импортируйте его.
4. Используйте заранее настроенные запросы для тестирования API.

## Конечные точки API

# Аутентификация

+ POST ```/school/api/token/```: Получение JWT токенов.
+ POST ```/school/api/token/refresh/```: Обновление JWT токенов.

# Пользователи

+ GET ```/school/users/```: Список всех пользователей.
+ POST ```/school/users/```: Создание нового пользователя.
+ GET ```/school/users/{id}/```: Просмотр конкретного пользователя.
+ PUT ```/school/users/{id}/```: Обновление данных пользователя.
+ DELETE ```/school/users/{id}/```: Удаление пользователя.

# Группы

+ GET ```/school/groups/```: Список всех групп.
+ POST ```/school/groups/```: Создание новой группы.
+ GET ```/school/groups/{id}/```: Просмотр конкретной группы.
+ PUT ```/school/groups/{id}/```: Обновление данных группы.
+ DELETE ```/school/groups/{id}/```: Удаление группы.

# Оценки

+ GET ```/school/grades/```: Список всех оценок (студенты могут видеть только свои оценки).
+ POST ```/school/grades/```: Создание оценки.
+ GET ```/school/grades/{id}/```: Просмотр конкретной оценки.
+ PUT ```/school/grades/{id}/```: Обновление оценки.
+ DELETE ```/school/grades/{id}/```: Удаление оценки.

# Средние оценки по группе

+ GET ```/school/groups/{group_id}/average-grades/```: Просмотр средней оценки по каждому предмету в группе.

Используя коллекцию Postman и предоставленные инструкции, вы сможете легко взаимодействовать с API для управления школьными данными.
